<!DOCTYPE html>
<!--
	Moon by GetTemplates.co
	URL: https://gettemplates.co
-->
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Moon - Multipurpose Bootstrap 4 Template by GetTemplates.co</title>
    <meta name="description" content="Core HTML Project">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- External CSS -->
    <link rel="stylesheet" href="vendor/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="vendor/select2/select2.min.css">
    <link rel="stylesheet" href="vendor/owlcarousel/owl.carousel.min.css">
    <link rel="stylesheet" href="vendor/lightcase/lightcase.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400|Work+Sans:300,400,700" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="css/style.min.css">
    <link rel="stylesheet" href="https://cdn.linearicons.com/free/1.0.0/icon-font.min.css">
    <link href="https://file.myfontastic.com/7vRKgqrN3iFEnLHuqYhYuL/icons.css" rel="stylesheet">

    <!-- Modernizr JS for IE8 support of HTML5 elements and media queries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>

</head>
<body data-spy="scroll" data-target="#navbar-nav-header" class="single-layout">
	<div class="boxed-page">
		<nav id="gtco-header-navbar" class="navbar navbar-expand-lg py-4">
    <div class="container">
        <!--<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-nav-header" aria-controls="navbar-nav-header" aria-expanded="false" aria-label="Toggle navigation">
            <span class="lnr lnr-menu"></span>
        </button>-->
        <div class="collapse navbar-collapse" id="navbar-nav-header">
            <ul class="navbar-nav ml-auto">
            </ul>
        </div>
    </div>

</nav>		<div class="jumbotron d-flex align-items-center" style="background-image: url(unknown.png)">
  <div class="container text-center">
    <h1 class="display-2 mb-4 single-blog-title">CS184 Final Project: Final Report Webpage</h1>
    <h2>IK Rigging Non-Bipedal Models</h2>
    <h2>Team Members: Amy Tran, Celeste Wu, Ivy Case, Rupa Duggirala</h2>
  </div>
</div>		<!-- Contact Form Section -->
<section id="gtco-single-content" class="bg-white">
    <div class="container">
        <div class="section-content blog-content">
            <div class="row">
                <!-- Single Content Holder -->
                <div class="col-md-8 offset-md-2 mt-4">
                    <!-- <img class="float-left" width="320px" src="img/blog-4.jpg" alt=""> -->
                    <h3 align="left">Abstract</h3>
                    <p align="left">
			    Through our final project, our team set out to expand the functionality of pre-existing character models of IK rigs by introducing 
			    non-bipedal movement. We first learned about IK rigs as a type of procedural pose animation from Alexander Bereznyak's talk 
			    at GDC in 2016, and we were immediately intrigued by the efficiency and flexibility that was characteristic of IK rigs. After 
			    some research, we found that IK rigs employ inverse kinematics to do so, which effectively utilizes joints / pin bones to move 
			    neighboring structures instead of the classic parent-child hierarchy. Furthermore, it was unique for isolating the model from 
			    rig, such that the same rig could be applied to different models by adding custom rules; character could also be added to the 
			    model as needed. A key idea we sought to explore is the ability to linearly "add" these rules, such that a model could exhibit 
			    multiple traits in different poses. Effectively, we sought to be able to work towards two main objectives: to increase efficiency, 
			    in order to optimize the time and effort that is needed for game developers to implement variety in their models; and to enhance 
			    quality, in order to ensure that the animation and rigging of non-bipedal creatures can be done in a manner that is more reminiscent 
			    of real-life motion. 
                    </p>
                    <h3 align="left">Technical Approach</h3>
                    <p align="left"> 
			    As our starting point, we utilized two open-source libraries from SketchPunk to serve as a baseline for the core aspects of bipedal 
			    movement, upon which we could explore and implement the functionality that is needed for non-bipedal movement to occur. The first 
			    library we referenced was Fungi, an open-source WebGL 2.0-based 3D character rendering and game engine. It was composed of multiple 
			    IK rigs and solvers that contain several key groups of creature body parts. We also utilized Ossos, which is an open-source 
			    web-based character animation and skinning library. It was composed of an armature system that that is built entirely around bones 
			    (not joints), and also has a prototype quadrupedal rig.
                    </p>
		    <p align="left">
			    Our project can be broken down into three main tasks: the MVP, the quadruped, and the dolphin. For the MVP, we utilized the Fungi 
			    library to successfully rig a bi-pedal Pokemon called Mewtwo. For the quadruped, we optimized the process of quadruped rigging that was 
			    present in the Ossos library. Finally, for the dolphin, we re-targeted the entire animation sequence for a new creature body type.
                    </p>
		    <p align="left">
			    To implement the Mewtwo MVP, we utilized KhronosGroup's COLLADA (.dae) to .gltf and .bin Converter, for which we could make use of these Pokemon 
			    models. We aimed to demonstrate that the IK rigs could be re-targeted; this was done by duplicating a provided demo.html file, as we ensured that 
			    it adequately provided us with a baseline to define the root and limbs / appendages of the Pokemon character models. However, in order to implement 
			    a broad range of non-bipedal movement, we found that we would need to add in bones that are defined by joint chains. To accomplish this, we downloaded 
			    the Blender software and learnt how to specifically make and edit bones; we also "skinned" the bones with vertex groups to form them into a more 
			    cohesive unit for re-targeting. Altogether, this allowed us to form the core skeleton for our character models! However, we noticed that there 
			    was an issue with our GLTF file, as it didn't have a pose attribute. This meant that it would be difficult to increase the accuracy of our 
			    re-targeting code, especially if the target reference pose was vastly different from the source. Ultimately, we identified that this issue was 
			    due to an error with Blender exporting. We were able to solve this error by manually creating a pose attribute by using the rotation and 
			    translation attributes of the nodes of the trex and vegeta models.
                    </p>
		    <p align="left">
			    To implement the quadruped, we focused upon two sub-tasks. Foremost, we sought to implement a core functionality that we defined to be "spine dampening". 
			    Initially, we found that the provided quadrupedal models in Ossos were rendered with a spine that wobbled a lot. While this was insignificant for bipedal 
			    models (as the shoulders and arms inherently do move passively), this extreme movement of the spine in quadrupeds resulted in the head of the model swaying 
			    too much, to the extent that it was not representative of real-life motion. To fix this, we sought to make the spine stationary, in the same manner that the 
			    hips of the model were rendered. To accomplish this, we mimicked the process of hip rigging for the spine, which was done by performing successive linear 
			    interpolations to calculate the start, end, and pole components of the spine. We also dampened and normalized the necessary target directions for each of 
			    the different spine components. Collectively, this had the effect of dampening the spine in our quadruped models such that it more closely resembled the 
			    appearance of non-bipedal motion. The next sub-task we aimed to complete for the quadruped was a key feature that we defined to be "forelimb delay". At first, 
			    we found that there was a need to introduce a slight delay between the front and back legs of the quadrupedal model, in order to more closely match how 
			    non-bipedal animals move at different speeds (ie. walk or run) in real life. We sought to implement this functionality by computing the distance between 
			    the hind legs' target direction, and by dynamically performing linear interpolations upon the two hind legs in order to simulate a delay in the motion of 
			    the forelegs. We coupled these calculations with linear interpolations upon the hip components of the model, as this could "blend" the legs with the hip to 
			    collectively form one cohesive motion. We initially found that the hips were moving at a slightly different speed than the hind legs, so blending the two 
			    components would serve the effect of providing a needed offset to the forelegs. Ultimately, these steps collectively had the effect of delaying the motion 
			    of the forelimbs in the character model such that it more closely resembled the appearance of non-bipedal motion. 
                    </p>
		    <p align="left">
			    To implement the dolphin, we had to be creative! Initially, we found that any type of fish did not have its own IKPose object within our source code, which 
			    signaled that we would need to use a method on the rig that would translate the current functionality of the biped IK pose such that it could also be used 
			    for fish. To accomplish this, we first aimed to identify where motion could be “isolated” within any type of creature (or not simply exclusive of fish). We found 
			    that motion is typically centered in the hips for both bipedal and quadrupedal creatures, so we simply extended this logic to the center of a dolphin. To emulate 
			    this centralized motion within a creature like a dolphin, we simply removed the legs on the original quadrupedal model. More precisely, to reproduce the motion of 
			    the head and hips of a dolphin, we solely utilized the hip motion of a quadrupedal model. We also aimed to amplify and swap the x- and y-coordinates of motion, so 
			    that it would appear as if the dolphin was swimming up and down instead of side-to-side (which is more reminiscent of real-life motion). Moreover, for the spine of 
			    the dolphin, we chose to exclusively utilize the spine motion of the quadrupedal model. In aiming to adapt bipedal motion into quadrupedal motion, we found that 
			    there were a few complications in the movement of the spine as it was twisting excessively in response to these changes. Using the spine motion allowed us to reduce 
			    the amount of twisting in the spine, such that it appeared to be more natural and conducive with the rest of the motion within the dolphin. Finally, using everything 
			    that we learned about movement for each of the different models, we combined this logic with a 3D dance animation sequence that was sourced from Mixamo. Collectively, 
			    this created a really cool effect where it looks like our models are dancing! To implement this functionality, we utilized the bind attributes of each model and 
			    calculated inverse matrices to incorporate and execute the up-down motion of a dolphin compared with the left-right motion of the bi-pedal and quadrupedal creatures.
                    </p>
		    <p align="left">
			    Overall, we learned how to successfully implement non-bipedal movement on pre-existing character models! We now have a greater appreciation for the intricacies of 
			    animation and rigging, and we're proud to have utilized IK rigs to emulate realistic motion and streamline the animation pipeline. Along the way, we discovered how 
			    to utilize new technologies (primarily, Blender and the Fungi and Ossos open-source code) together, and worked as a team to tackle all of the learning and debugging 
			    challenges that arose with implementing the various components of the project. We're incredibly proud of our collective efforts over the past few weeks!
                    </p>
                    <h3 align="left">Results</h3>
		    <p align="left">
			    Final Project Video
			    <ul>
				    <li> <a href="">Video</a> </li>
			    </ul>
                    </p>
                    <p align="left">
			    Task 1: Mewtwo MVP
			    <ul>
				    <li> <a href="https://drive.google.com/file/d/1fRz_nfrhUJt5nsvwBEo5zdm1yD-Zmc_H/view?usp=sharing">Best Mesh Attempt</a> </li>
				    <li> <a href="https://drive.google.com/file/d/1jaS9TdxV8CRS74-zZAQtgItFez7bU78_/view?usp=sharing">Skeleton Only</a> </li>
			    </ul>
                    </p>
		    <p align="left">
			    Task 2.1: Quadruped Spine Dampening
			    <ul>
				    <li> <a href="https://drive.google.com/file/d/15o3C6n6FJxZf2RL9f-NRqj1MfLU4eoks/view?usp=sharing">Before Dampening</a> </li>
				    <li> <a href="https://drive.google.com/file/d/14T5im0rFXL_9lHV_wNvfkvl0v_823H0Q/view?usp=sharing">After Dampening</a> </li>
			    </ul>
                    </p>
		    <p align="left">
			    Task 2.2: Quadruped Forelimb Delay
			    <ul>
				    <li> <a href="https://drive.google.com/file/d/17xt6s7xwWPAGgBC6wQW0w5I82xbL3Qka/view?usp=sharing">Same Legs in Sync</a> </li>
				    <li> <a href="https://drive.google.com/file/d/12iuOq1DAI_OUbt0YrZIXGiCP2_Gv6YtH/view?usp=sharing">Opposite Legs in Sync</a> </li>
				    <li> <a href="https://drive.google.com/file/d/1VQ9fX4BNhspGa_SgwG8kZEdkCcrRk_HU/view?usp=sharing">In-Between Sync (Most Realistic)</a> </li>
			    </ul>
                    </p>
	            <p align="left">
			    Task 3: Dolphin Rig
			    <ul>
				    <li> <a href="https://drive.google.com/file/d/183E3xpC5jTSaI2SRplhYr8UzwhRFqA4v/view?usp=sharing">Walking Motion</a> </li>
				    <li> <a href="https://drive.google.com/file/d/1W-6Q93hTLn8fN66j0gRZRvPgymug-Jd2/view?usp=sharing">Running Motion</a> </li>
				    <li> <a href="https://drive.google.com/file/d/1whrDPJvkS4EGgTJkfAOINU8i8C04H2sb/view?usp=sharing">Extra: Dancing Motion</a> </li>
				    <li> <a href="https://drive.google.com/file/d/1lH6A0zrWsx5-PT8Y8bC8q5g7bn5vfjuT/view?usp=sharing">Extra: Fish Walking Motion</a> </li>
			    </ul>
                    </p>
                    <h3 align="left">References</h3>
                    <p align="left">
			    The following links display the references that we utilized as we built our final project:
			    <ul>
				    <li> <a href="https://www.youtube.com/watch?v=KLjTU0yKS00">GDC 2016 Talk on IK Rigs</a> </li>
				    <li> <a href="https://www.youtube.com/watch?v=SQo9pTQ14Jk">Demo Video on Open-Source Code</a> </li>
				    <li> <a href="https://github.com/sketchpunk/Fungi">Fungi</a> </li>
				    <li> <a href="https://github.com/sketchpunklabs/ossos">Ossos</a> </li>
				    <li> <a href="https://www.google.com/url?sa=t&source=web&rct=j&url=https://github.com/KhronosGroup/COLLADA2GLTF&ved=2ahUKEwj56t3Pu7L3AhXCJkQIHcRoCE8QFnoECAsQAQ&usg=AOvVaw1Zv88mkdj-6vdWEErbqjd0">KhronosGroup's COLLADA (.dae) to .gltf and .bin Converter</a> </li>
				    <li> <a href="https://www.models-resource.com/3ds/pokemonxy/">Pokemon Models</a> </li>
				    <li> <a href="https://vimeo.com/202205778">Quadruped Locomotion Tutorial</a> </li>
			    </ul>
                    </p>
                    <h3 align="left">Individual Contributions</h3>
                    <p align="left">
			    Here is what everyone on our team worked on over the past few weeks for our final project:
			    <ul>
				    <li> Amy: Crafted poses for the GLTF files so that they could be used with the Fungi source code, attempted to create bones for the bulbasaur model (although it ultimately wasn't used), attempted to delay the animation for the quadruped forelimb delay, and helped out with the presentation. </li>
				    <li> Celeste: Set up a development environment for the team, added armature and skinned the Mewtwo model for rigging tests, troubleshooted the mesh problem, worked on both quadrupedal optimization tasks, developed the fish and dolphin rigs to re-target the animation cycle for models with those body shapes, and rendered all of the demo videos. </li>
				    <li> Ivy: Developed the milestone and final videos, debugged the mesh issues that were present in Fungi for the Mewtwo MVP, and attempted to improve all movement on the quadruped rig in Ossos. </li>
				    <li> Rupa: Created the milestone and final report webpages in alignment with the team's documented progress, also worked to delay the animation for the quadruped forelimb delay, and developed the final presentation slides. </li>
			    </ul>
                    </p>
                    
                    <hr>
                    <h5>
                        Moon by GetTemplates.co <br>
                        URL: https://gettemplates.co
                    </h5>
                </div>
                <!-- End of Contact Form Holder -->
            </div>
        </div>
    </div>
</section>
<!-- End of Contact Form Section -->		<footer class="mastfoot mb-3 bg-white py-4 border-top">
    <div class="inner container">
         <div class="row">
         	<div class="col-md-6 d-flex align-items-center justify-content-md-start justify-content-center">
         		<p class="mb-0">&copy; 2019 Moon. All Right Reserved. Design by <a href="https://gettemplates.co" target="_blank">GetTemplates.co</a>.</p>
         	</div>

        </div>
    </div>
</footer>	</div>

</div>
	<!-- External JS -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js"></script>
	<script src="vendor/bootstrap/popper.min.js"></script>
	<script src="vendor/bootstrap/bootstrap.min.js"></script>
	<script src="vendor/select2/select2.min.js "></script>
	<script src="vendor/owlcarousel/owl.carousel.min.js"></script>
	<script src="vendor/isotope/isotope.min.js"></script>
	<script src="vendor/lightcase/lightcase.js"></script>
	<script src="vendor/waypoints/waypoint.min.js"></script>
	<script src="vendor/countTo/jquery.countTo.js"></script>

	<!-- Main JS -->
	<script src="js/app.min.js "></script>
	<script src="//localhost:35729/livereload.js"></script>
</body>
